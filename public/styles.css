/* Liquid-Glass (iOS-style) theme â€” frosted, vibrant, soft shadows */
:root{
  --bg-a: #0a0f1e;
  --bg-b: #0f1630;
  --glass: rgba(255,255,255,0.08);
  --glass-border: rgba(255,255,255,0.18);
  --text: #e9ecf1;
  --muted:#a6b0c2;
  --accent:#7bd4ff;       /* aqua/cyan */
  --accent-2:#9b8cff;     /* periwinkle */
  --ok:#5df2a2; --warn:#ffd166; --high:#ff6b6b; --ext:#ffb3b3;
  --radius: 18px;
  --blur: 22px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 10% 10%, #1a2347 0%, transparent 40%),
              radial-gradient(1000px 600px at 90% 20%, #182b3a 0%, transparent 45%),
              linear-gradient(180deg, var(--bg-a), var(--bg-b));
  overflow-x:hidden;
}
.header, .controls, .footer, .glass{
  background: var(--glass);
  -webkit-backdrop-filter: saturate(140%) blur(var(--blur));
  backdrop-filter: saturate(140%) blur(var(--blur));
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
}
header.header{ margin:16px; padding:16px 20px; }
.title{ display:flex; align-items:center; gap:12px; }
.title h1{ margin:0; font-weight:700; letter-spacing:.2px; }
.sub{ margin:.25rem 0 0; color:var(--muted) }
.orb{
  width:18px; height:18px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, #9ff 35%, #48a 60%, #236 100%);
  box-shadow: 0 0 60px #7bd4ff80;
}

.controls{ margin:16px; padding:12px 16px; }
.row{ display:flex; gap:12px; align-items:center }
.wrap{ flex-wrap:wrap }
.seg input, select{
  background: transparent; color: var(--text);
  border: 1px solid var(--glass-border); border-radius: 12px; padding: 10px 12px;
  outline: none; min-width: 170px;
}
.btn{
  background: linear-gradient(135deg, #253c6b, #1e2a55);
  color:#e9f6ff; border:1px solid #2b3d74; padding:10px 14px; border-radius:14px; cursor:pointer;
  transition:.2s transform, .2s filter, .2s box-shadow;
  box-shadow: 0 6px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
}
.btn:hover{ filter:brightness(1.05) }
.btn:active{ transform: translateY(1px) }
.btn-primary{
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  color:#0b1020; border:0; box-shadow: 0 10px 25px #7bd4ff44;
}
.ios-switch { display:flex; align-items:center; gap:8px; }
.ios-switch input{ appearance:none; width:46px; height:26px; border-radius:999px; position:relative; outline:none; background:#53628a55; border:1px solid var(--glass-border); transition:.2s }
.ios-switch input::after{ content:""; position:absolute; top:2px; left:2px; width:22px; height:22px; border-radius:50%; background:linear-gradient(180deg,#fff,#b9c4ff); box-shadow:0 2px 6px rgba(0,0,0,.35); transition:.2s }
.ios-switch input:checked{ background: linear-gradient(135deg,var(--accent),var(--accent-2)) }
.ios-switch input:checked::after{ transform: translateX(20px) }
.ios-switch span{ color:var(--muted) }

main{ display:grid; grid-template-columns: 2fr 1fr; gap:16px; padding:0 16px 16px }
#map{ height: calc(100vh - 250px); border-radius: var(--radius); position:relative; overflow:hidden }

#panel{ display:flex; flex-direction:column; gap:16px }
.card{ padding:14px 16px }
.card h3{ margin:0 0 8px; }

.risk{ font-size:24px; font-weight:800; padding:6px 10px; border-radius:12px; display:inline-block; background:#101935dd; }
.risk.low{ color:var(--ok) } .risk.moderate{ color:var(--warn) } .risk.high{ color:var(--high) }
.risk.extreme{ color:var(--ext); background:#3a0a0add }
.muted{ color:var(--muted) }

.alert{ padding:8px 10px; border-radius:12px; background:#0f1733aa; margin-bottom:6px; border:1px solid #ffffff1f }
.chip{ display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px; background:#0f1733aa; border:1px solid #ffffff1f }
.chip.ok{ color:var(--ok) } .chip.warn{ color:var(--warn) } .chip.danger{ color:var(--high) }

.legend .lg{ display:inline-block; width:18px; height:10px; border-radius:6px; margin-right:8px }
.lg-track{ background: linear-gradient(90deg,#67e8f9,#a78bfa) }
.lg-cone{ background: #a78bfa55; border:1px solid #a78bfa }
.lg-risk{ background: #ff6b6b55; border:1px solid #ff6b6b }

.footer{ margin:0 16px 16px; padding:10px 14px; text-align:center; color:var(--muted) }

@media (max-width: 1024px){
  main{ grid-template-columns: 1fr; }
  #map{ height: 50vh; }
}